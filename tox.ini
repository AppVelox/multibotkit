[tox]
envlist = py37, py38, py39, py310
isolated_build = true

[gh-actions]
python =
    3.7: py37
    3.8: py38
    3.9: py39
    3.10: py310

[testenv]
deps =
    aioredis
    motor
    pydantic[dotenv]
    pytest
    pytest-asyncio
    pytest_httpx
    tenacity
setenv = 
    MONGO_CONNECTION_URL = mongodb://127.0.0.1:27017/
    REDIS_CONNECTION_URL = redis://localhost:6379
commands = pytest